# 轻量化可自定义菜单框架（Linux）

这是一个用C++编写的轻量级Linux菜单框架，允许用户通过文本文件定义菜单，并在终端上进行导航和选择不同的菜单项。

## 代码概述

代码实现了一个基本的文本菜单系统，允许用户通过文本文件定义多层次的菜单，然后在终端上浏览和选择这些菜单项。主要功能如下：

- 从文本文件中读取菜单信息。
- 创建菜单项并构建菜单层次结构。
- 在终端上显示当前可见的菜单项。
- 使用键盘输入进行菜单项的导航和选择。

## 文件结构

代码包含以下文件：

- `README.md`：用于介绍代码功能和结构。
- `Main.cpp`：主程序文件。
- `Menu.cpp`: 菜单框架的实现。
- `Menu.hpp`: 定义文件。
- `Menu.txt`：示例菜单定义文本文件,可以根据需要自定义此文件。

## 代码结构

代码主要分为以下几个部分：

### 1. Menu 类

`Menu` 类代表一个菜单项，包含菜单内容、菜单编号和父菜单编号的信息。这个类的方法允许更改和获取这些信息。

### 2. Info 结构体

`Info` 结构体用于临时存储从文件中读取的菜单信息，包括菜单编号、父菜单编号和菜单文本。

### 3. 文件读取函数

`read_from_file` 函数用于从指定的文本文件中读取菜单信息，并将其存储在 `Info` 结构体的向量中。

### 4. 键盘输入函数

`scanKeyboard` 函数捕获键盘输入，并返回对应的整数值，用于处理用户的菜单选择。

### 5. 创建和管理菜单函数

- `CreatMenu` 函数接受从文件读取的菜单信息，并创建 `Menu` 对象的向量，以构建菜单层次结构。
- `FindCurrentMenus` 函数根据用户导航和选择，查找当前可见的菜单项。
- `FatherMenus` 函数用于查找当前菜单的上一级菜单项。

### 6. 显示菜单函数

`printMenu` 函数负责在终端上显示当前可见的菜单项，高亮显示用户选择的项。

### 7. 主程序

`main` 函数是程序的入口点，它执行以下步骤：

- 读取菜单定义文件。
- 创建菜单层次结构。
- 开始显示和导航菜单。

## 如何使用

1. 准备菜单定义文件（默认为 `Menu.txt`），按照示例格式定义菜单层次结构。
2. 在终端中编译和运行 `Main.cpp`。
3. 使用自定义按键（默认为数字键1、2、0、9）进行导航和选择不同的菜单项。
   - UP：上移光标
   - DOWN：下移光标
   - NEXT：进入当前选定的子菜单
   - BACK：返回上一级菜单

## 示例菜单定义文件（Menu.txt）

以下是示例菜单定义文件的格式：

```plaintext
[1]Main Menu
[1.1]Submenu 1
[1.2]Submenu 2
[1.2.1]Submenu 2.1
[1.2.2]Submenu 2.2
[1.3]Submenu 3
```

## 注意事项

- 本框架是一个基本示例，可以根据需要进行扩展和修改。
- 请确保菜单定义文件遵循示例文件的格式，以便正确解析。
- 代码使用了Linux终端的特定功能，可能不适用于其他操作系统。
